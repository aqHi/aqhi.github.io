<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;aqhi.net&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}</script><script src="/js/config.js"></script>
<meta name="description" content="Talk is cheap , show me the shit.">
<meta property="og:type" content="website">
<meta property="og:title" content="aqHi&#39;blog">
<meta property="og:url" content="https://aqhi.net/index.html">
<meta property="og:site_name" content="aqHi&#39;blog">
<meta property="og:description" content="Talk is cheap , show me the shit.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="aqHi">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://aqhi.net/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:&quot;&quot;,&quot;permalink&quot;:&quot;&quot;,&quot;path&quot;:&quot;index.html&quot;,&quot;title&quot;:&quot;&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>aqHi'blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">aqHi'blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">艾琴海的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">aqHi</p>
  <div class="site-description" itemprop="description">Talk is cheap , show me the shit.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2021/06/07/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/07/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-07 14:45:29" itemprop="dateCreated datePublished" datetime="2021-06-07T14:45:29+08:00">2021-06-07</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2021/04/07/%E3%80%90%E7%AC%94%E8%AE%B0%E3%80%91Spring%20%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6--bi-ji--s-p-r-i-n-g--shi-wu-chuan-bo-ji-zhi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/07/%E3%80%90%E7%AC%94%E8%AE%B0%E3%80%91Spring%20%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6--bi-ji--s-p-r-i-n-g--shi-wu-chuan-bo-ji-zhi/" class="post-title-link" itemprop="url">【笔记】Spring 事务传播机制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-07 19:21:44" itemprop="dateCreated datePublished" datetime="2021-04-07T19:21:44+08:00">2021-04-07</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Spring-事务传播机制"><a href="#Spring-事务传播机制" class="headerlink" title="Spring 事务传播机制"></a>Spring 事务传播机制</h2><ul>
<li><p><code>REQUIRED</code> (必需的)</p>
<p>如果当前有，则加入，合并成一个事务，没有则新建</p>
</li>
<li><p><code>REQUIRED_NEW</code> (必需新建)</p>
<p>新建，如果当前有事务，则当前事务挂起，父级异常不影响</p>
</li>
<li><p><code>SUPPORTS</code> (支持)</p>
<p>如果有，则加入，如果没有，则以非事务形式运行</p>
</li>
<li><p><code>NOT_SUPPORTED</code> (不支持)</p>
<p>以非事务形式运行，如果当前存在事务，当前事务挂起</p>
</li>
<li><p><code>NEVER</code>  (永不)</p>
<p>以非事务形式运行，如果当前存在事务，抛异常</p>
</li>
<li><p><code>NESTED</code> (嵌套)</p>
<blockquote>
<p> 如果当前存在事务，成为父级事务的一个子事务，方法结束后不提交，只有等父事务结束才提交</p>
<p> 如果当前没有事务，则新建</p>
<p> 如果当前事务异常，父级可以捕获而不进行回滚，正常提交</p>
<p> 如果父级异常，当前事务回滚</p>
</blockquote>
</li>
<li><p><code>MANDATORY</code> (强制的)</p>
<p>父级必须有事务，否则抛异常</p>
</li>
</ul>
<h2 id="事务的四个特性"><a href="#事务的四个特性" class="headerlink" title="事务的四个特性"></a>事务的四个特性</h2><ul>
<li>Atomicity 原子性 </li>
<li>Consistency 一致性</li>
<li>Isolation 隔离性</li>
<li>Duriablity 持久性</li>
</ul>
<h2 id="事务的隔离级别"><a href="#事务的隔离级别" class="headerlink" title="事务的隔离级别"></a>事务的隔离级别</h2><ul>
<li>Read Uncommitted 脏读</li>
<li>Read Committed  可重复读</li>
<li>Repeatable Read 幻读</li>
<li>Serializable</li>
</ul>
<h2 id="分布式事务"><a href="#分布式事务" class="headerlink" title="分布式事务"></a>分布式事务</h2><h3 id="CAP-理论"><a href="#CAP-理论" class="headerlink" title="CAP 理论"></a>CAP 理论</h3><p>Consistency 可用性 分区容错性 三则不可兼得，最多只能满足其中2条。ZK AP，Eureka 满足的是 CP。</p>
<h3 id="BASE-理论"><a href="#BASE-理论" class="headerlink" title="BASE 理论"></a>BASE 理论</h3><p>基本可用、软状态、最终一致性。</p>
<h2 id="分布式事务解决方案"><a href="#分布式事务解决方案" class="headerlink" title="分布式事务解决方案"></a>分布式事务解决方案</h2><h4 id="2PC-二阶段提交-Two-Phase-Commit"><a href="#2PC-二阶段提交-Two-Phase-Commit" class="headerlink" title="2PC 二阶段提交 ( Two-Phase Commit )"></a>2PC 二阶段提交 ( Two-Phase Commit )</h4><p>全局事务分成两阶段来处理，第一阶段进行准备工作，第二阶段确认是提交还是会滚，这个过程需要一个协调者和若干参与者。</p>
<ul>
<li>投票阶段 协调者询问各个参与者，是否可以提交，各参与者执行事务，写入 redo log 和 undo log，反馈相关信息。</li>
<li>提交阶段 协调者发现所有参与者都可以提交事务，则给所有参与者发送commit 指令，通知提交。如果有任意一个参与者反馈失败，则通知所有参与者会滚。</li>
</ul>
<p>存在的问题</p>
<ol>
<li>阻塞问题，所有参与者都需要等待其他参与者的执行结果，暂用系统资源时间太长。</li>
<li>单点故障问题。参与者通知协调者成功后，节点崩溃，后续也无法收到协调者发送的commit消息。</li>
</ol>
<h4 id="TCC-Try-Commit-Cancel-补偿型事务"><a href="#TCC-Try-Commit-Cancel-补偿型事务" class="headerlink" title="TCC (Try , Commit , Cancel ) 补偿型事务"></a>TCC (Try , Commit , Cancel ) 补偿型事务</h4><p>将事务分成三个方法</p>
<ul>
<li>Try 准备阶段 资源检查和预留</li>
<li>Commit 提交阶段</li>
<li>Cancel 回滚阶段</li>
</ul>
<p>整个过程同样分为两个阶段，第一步准备，第二步执行。</p>
<p>优点</p>
<ol>
<li>不会全局阻塞，每个阶段执行完毕都会释放锁，不需要等待其他事务。</li>
</ol>
<p>缺点</p>
<ol>
<li>代码侵入性强，比较繁琐。开发成本高，每个事务都需要实现3个步骤。</li>
<li>安全性问题，cancel 阶段如果失败无法释放锁，需要重试等问题。</li>
</ol>
<h4 id="SEGA-模式"><a href="#SEGA-模式" class="headerlink" title="SEGA 模式"></a>SEGA 模式</h4><ul>
<li>长事务的实现，每一个参与者提供一个冲正补偿服务，用户根据业务场景实现正向操作和逆向操作。</li>
</ul>
<h4 id="可靠消息服务"><a href="#可靠消息服务" class="headerlink" title="可靠消息服务"></a>可靠消息服务</h4><ul>
<li>使用消息中间件实现</li>
</ul>
<p>常用的模式</p>
<ul>
<li>AT ( TCC 原理的优化 )</li>
<li>SEGA </li>
<li>XA</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2020/10/23/%E9%9D%A2%E7%AD%8B-%E9%9D%A2%E7%AD%8Bmd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/10/23/%E9%9D%A2%E7%AD%8B-%E9%9D%A2%E7%AD%8Bmd/" class="post-title-link" itemprop="url">面筋</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-10-23 16:02:35 / 修改时间：18:04:11" itemprop="dateCreated datePublished" datetime="2020-10-23T16:02:35+08:00">2020-10-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[TOC]<br>##线程相关</p>
<h3 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h3><ol>
<li>start() : 启动线程</li>
<li>run() : 通过start()之后，cpu获得了线程执行时间，去调用run();</li>
<li>sleep() : 线程等待指定时间，释放cpu资源，不释放锁</li>
<li>yield() : 释放当前cpu资源，线程回到就绪状态， 不释放锁，让相同优先级线程执行</li>
<li>join() : 保持当前线程在其他线程结束时才能执行</li>
<li>interrupt() : 中断线程</li>
<li>wait()：从object()继承来，进入等待池，释放锁</li>
<li>notify()：从object()继承来，唤醒一个线程</li>
</ol>
<h3 id="线程的状态"><a href="#线程的状态" class="headerlink" title="线程的状态"></a>线程的状态</h3><ul>
<li><p>新建：使用new关键字或者使用Thread类或者其子类创建线程，线程会保持新建状态，直到程序start()这个线程</p>
</li>
<li><p>就绪：当线程执行start()方法后，线程进入就绪状态并在等待队列中等待调度</p>
</li>
<li><p>运行：就绪的线程获取cpu资源之后，就会调用run()方法，线程进入运行状态。它可以变成就绪、阻塞、死亡状态</p>
</li>
<li><p>阻塞：</p>
<ul>
<li>等待阻塞：运行时执行了wait()方法，使线程进入等待阻塞状态</li>
<li>同步阻塞：线程获取锁失败时进入同步阻塞</li>
<li>其他阻塞：通过执行sleep()或join()发出IO请求时</li>
</ul>
</li>
<li><p>死亡：一个运行状态的线程完成任务或者其他终止条件发生时，该线程就切换到终止状态</p>
</li>
</ul>
<h3 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h3><h5 id="线程池的创建方式-5种"><a href="#线程池的创建方式-5种" class="headerlink" title="线程池的创建方式:5种"></a>线程池的创建方式:5种</h5><h5 id="线程池的状态"><a href="#线程池的状态" class="headerlink" title="线程池的状态"></a>线程池的状态</h5><p><strong>设置线程池：</strong>跟cpu核心数，阻塞系数，io时间有关</p>
<p><strong>公式</strong>：启动线程数 = 【任务执行时间/(任务执行时间-IO等待时间)】*CPU内核数</p>
<p>最佳线程数量 = CPU执行核心数/（1-阻塞系数）</p>
<p>阻塞系数 = 阻塞时间／（阻塞时间+使用CPU的时间）</p>
<ol>
<li>线程池参数：</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ThreadPoolExecutor</span><span class="params">(<span class="keyword">int</span> corePoolSize,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 <span class="keyword">int</span> maximumPoolSize,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 <span class="keyword">long</span> keepAliveTime,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 TimeUnit unit,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 BlockingQueue&lt;Runnable&gt; workQueue,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 ThreadFactory threadFactory,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 RejectedExecutionHandler handler)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">if</span> (corePoolSize &lt; <span class="number">0</span> ||</span><br><span class="line">               maximumPoolSize &lt;= <span class="number">0</span> ||</span><br><span class="line">               maximumPoolSize &lt; corePoolSize ||</span><br><span class="line">               keepAliveTime &lt; <span class="number">0</span>)</span><br><span class="line">               <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">           <span class="keyword">if</span> (workQueue == <span class="keyword">null</span> || threadFactory == <span class="keyword">null</span> || handler == <span class="keyword">null</span>)</span><br><span class="line">               <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">           <span class="keyword">this</span>.corePoolSize = corePoolSize;</span><br><span class="line">           <span class="keyword">this</span>.maximumPoolSize = maximumPoolSize;</span><br><span class="line">           <span class="keyword">this</span>.workQueue = workQueue;</span><br><span class="line">           <span class="keyword">this</span>.keepAliveTime = unit.toNanos(keepAliveTime);</span><br><span class="line">           <span class="keyword">this</span>.threadFactory = threadFactory;</span><br><span class="line">           <span class="keyword">this</span>.handler = handler;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>corePoolSize: 核心线程数：线程会维护一个最小核心线程数，即使线程处于闲置状态，也不会被销毁，除非设置allowCoreThreadTimeOut。如果当前线程数小于核心线程数，则会创建新的线程来执行任务。</li>
<li>maximumPoolSize：线程池最大线程数量：线程未达到最大线程数量，工作队列没有满，则会等到工作队列满，创建新的线程去执行队列任务，如果线程达到最大线程数，并且队列已满，会抛出异常。</li>
<li>keepAliveTime：线程空闲时间：允许线程闲置的最大空闲时间，如果超过这个时间会被销毁。</li>
<li>unit：keepAliveTime的时间单位。</li>
<li>workQueue：工作队列。</li>
<li>threadFactory：创建这个线程使用的工厂，可以用来设置线程名称，是否是守护线程等。</li>
<li>handler：当工作队列满了并且最大线程达到上限，拒绝后续任务的策略。</li>
</ul>
<h3 id="Callable-和-FutureTask"><a href="#Callable-和-FutureTask" class="headerlink" title="Callable 和 FutureTask"></a>Callable 和 FutureTask</h3><p>实现callable接口创建线程的方式，可以配合future获取线程的返回值，以及是否执行完成等信息。</p>
<ul>
<li>FutureTask提供的get(): 该方法能够获取线程的返回值，如果给定时间无法获取结果，会抛出TimeoutException异常</li>
<li>FutureTask提供的isDone(): 该方法能够判断该线程是否执行完成</li>
</ul>
<h3 id="面试题：-限制访问频率，当前时间往前推5分钟的次数"><a href="#面试题：-限制访问频率，当前时间往前推5分钟的次数" class="headerlink" title="面试题： 限制访问频率，当前时间往前推5分钟的次数"></a>面试题： 限制访问频率，当前时间往前推5分钟的次数</h3><h3 id="ConcurrentHashMap"><a href="#ConcurrentHashMap" class="headerlink" title="ConcurrentHashMap"></a>ConcurrentHashMap</h3><ol>
<li>初始化map通过cas操作</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Node&lt;K,V&gt;[] initTable() &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; <span class="keyword">int</span> sc;</span><br><span class="line">        <span class="keyword">while</span> ((tab = table) == <span class="keyword">null</span> || tab.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((sc = sizeCtl) &lt; <span class="number">0</span>)</span><br><span class="line">                Thread.yield(); <span class="comment">// lost initialization race; just spin</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (U.compareAndSwapInt(<span class="keyword">this</span>, SIZECTL, sc, -<span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || tab.length == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">int</span> n = (sc &gt; <span class="number">0</span>) ? sc : DEFAULT_CAPACITY;</span><br><span class="line">                        <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">                        Node&lt;K,V&gt;[] nt = (Node&lt;K,V&gt;[])<span class="keyword">new</span> Node&lt;?,?&gt;[n];</span><br><span class="line">                        table = tab = nt;</span><br><span class="line">                        sc = n - (n &gt;&gt;&gt; <span class="number">2</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    sizeCtl = sc;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tab;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


<ol start="2">
<li><p>put操作对节点上锁</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (f) &#123;</span><br><span class="line">    <span class="keyword">if</span> (tabAt(tab, i) == f) &#123;</span><br><span class="line">        <span class="keyword">if</span> (fh &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            binCount = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (ConcurrentHashMap.Node&lt;K,V&gt; e = f;; ++binCount) &#123;</span><br><span class="line">                K ek;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((ek = e.key) == key ||</span><br><span class="line">                                (ek != <span class="keyword">null</span> &amp;&amp; key.equals(ek)))) &#123;</span><br><span class="line">                    oldVal = e.val;</span><br><span class="line">                    <span class="keyword">if</span> (!onlyIfAbsent)</span><br><span class="line">                        e.val = value;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                ConcurrentHashMap.Node&lt;K,V&gt; pred = e;</span><br><span class="line">                <span class="keyword">if</span> ((e = e.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    pred.next = <span class="keyword">new</span> ConcurrentHashMap.Node&lt;K,V&gt;(hash, key,</span><br><span class="line">                            value, <span class="keyword">null</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (f <span class="keyword">instanceof</span> ConcurrentHashMap.TreeBin) &#123;</span><br><span class="line">            ConcurrentHashMap.Node&lt;K,V&gt; p;</span><br><span class="line">            binCount = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> ((p = ((ConcurrentHashMap.TreeBin&lt;K,V&gt;)f).putTreeVal(hash, key,</span><br><span class="line">                    value)) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                oldVal = p.val;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent)</span><br><span class="line">                    p.val = value;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>当map扩容时，调度其他所有线程帮助扩容数据迁移，每个线程领取大小为6的节点进行数据迁移</p>
</li>
</ol>
<h4 id="与HashTable的区别"><a href="#与HashTable的区别" class="headerlink" title="与HashTable的区别"></a>与HashTable的区别</h4><p>ConcurrentHashMap采用的是分段锁，对不同节点的数据不会有影响，是并行化操作。HashTable是在每个操作方法上都加上synchronized是串行操作，效率低。</p>
<h2 id="db相关"><a href="#db相关" class="headerlink" title="db相关"></a>db相关</h2><h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><ol>
<li>ACID:<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(1)  原子性：以单个事务为最小单元，要么全部成功，要么全部失败</span><br><span class="line">(2)  一致性：事务总是从一个一致性状态转向另一个一致性状态</span><br><span class="line">(3)  隔离性：一个事物在提交前，对其他事物是不可见的</span><br><span class="line">	a.读已提交：事物可以读取未提交的数据。</span><br><span class="line">	b.读已提交：一个事物在提交前所做任何操作对其他事物不可见。</span><br><span class="line">	c.可重复读：同一个事务读取的结果是一致的。</span><br><span class="line">		(select 通过读取事物id小于等于当前事务id，如果大于，去undolog查询快	照信息解决不可重复读，update上锁,会更新版本号，属于当前读。可能会产生幻读，当一个事物提交前查询和这个事物提交后查询会出现幻读）</span><br><span class="line"> 	d.可串行化：强制事务串行化。</span><br><span class="line"> 	</span><br><span class="line"> 	a.脏读：读取到其他事务未提交的操作结果</span><br><span class="line">		b.不可重复读：多次读取结果不一致</span><br><span class="line">		c.幻读：两次查询，第二次查询的结果出现了包括第一次查询所没有的结果</span><br><span class="line">	(4) 持久性： 持久化</span><br></pre></td></tr></table></figure></li>
</ol>
<table>
<thead>
<tr>
<th align="center">隔离级别</th>
<th align="center">脏读</th>
<th align="center">不可重复读</th>
<th align="center">幻读</th>
</tr>
</thead>
<tbody><tr>
<td align="center">RU</td>
<td align="center">y</td>
<td align="center">y</td>
<td align="center">y</td>
</tr>
<tr>
<td align="center">RC</td>
<td align="center">n</td>
<td align="center">y</td>
<td align="center">y</td>
</tr>
<tr>
<td align="center">RR</td>
<td align="center">n</td>
<td align="center">n</td>
<td align="center">y</td>
</tr>
<tr>
<td align="center">serial</td>
<td align="center">n</td>
<td align="center">n</td>
<td align="center">n</td>
</tr>
</tbody></table>
<h4 id="mysql数据类型"><a href="#mysql数据类型" class="headerlink" title="mysql数据类型"></a>mysql数据类型</h4><ul>
<li>整数类型：tinyint,  smallint,mdeiumint, int, bigint，整数类型有unsigned属性，不允许为负值</li>
<li>实数类型：</li>
<li>字符串类型：<ul>
<li>Char: 类型是定长的，根据定义的字符串长度来分配空间，在存储char值时，mysql会删除末尾的空格，char适合存储很短或者定长的数据</li>
<li>Varchar: 用于存储可变长字符串，是最常见的字符串数据类型。它比定长类型更节省空间，因为它仅使用必要的空间（越短的字符串使用越少的空间）</li>
</ul>
</li>
</ul>
<h4 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h4><p>普通索引，主键索引，唯一索引，联合索引</p>
<h4 id="聚簇索引与非聚簇索引"><a href="#聚簇索引与非聚簇索引" class="headerlink" title="聚簇索引与非聚簇索引"></a>聚簇索引与非聚簇索引</h4><p>聚簇索引（二级索引）：索引结构与数据文件在一块，例如主键索引就是聚簇索引，叶子节点的主键值下是整行数据。</p>
<p>非聚簇索引（一级索引）：索引结构与数据文件分开，例如联合索引，叶子结点下是该索引值的行对应的主键id,</p>
<p>通过非聚簇索引查询会通过主键索引得到数据，这个过程称作为回表。</p>
<p>一个表只能有1个聚簇索引，因为聚簇索引的顺序就是物理数据的顺序，所以一个表只能有一个聚簇索引</p>
<h4 id="索引失效"><a href="#索引失效" class="headerlink" title="索引失效"></a>索引失效</h4><ul>
<li>最左原则</li>
<li>使用or可能索引失效</li>
<li>使用like查询，%在前缀（类似最左原则）</li>
<li>字段类型转换可能会导致失效，例如：字符串不加引号会导致索引失效</li>
<li>对索引字段进行条件操作</li>
<li>is null 和is not null在mysql在查询成本非常高时会不走索引</li>
</ul>
<h4 id="最左原则"><a href="#最左原则" class="headerlink" title="最左原则"></a>最左原则</h4><p>Mysql会从按照从左到右进行匹配，直到遇到范围查询</p>
<h4 id="Mysql的执行过程"><a href="#Mysql的执行过程" class="headerlink" title="Mysql的执行过程"></a>Mysql的执行过程</h4><p>查询过程：先去查缓存，若直接命中缓存，则返回数据（这条链路前提的缓存开启），若没命中缓存，则由server端进行SQL解析，预处理，再优化，最后根据优化器生成的执行计划，调用存储引擎的api去查询数据，最后返回</p>
<p>修改过程：先去查数据，查询到数据之后执行器执行操作，形成新的一行数据，再调用存储引擎的api将数据更新到内存当中，存储引擎（innoDB）去写redo log，undo log，此时状态标记成perpare，并告诉执行器可随时提交，执行器写bin log，写完后将状态改成commit提交事务。</p>
<h4 id="NOW（）和-CURRENT-DATE（）有什么区别？"><a href="#NOW（）和-CURRENT-DATE（）有什么区别？" class="headerlink" title="NOW（）和 CURRENT_DATE（）有什么区别？"></a>NOW（）和 CURRENT_DATE（）有什么区别？</h4><p>now(): 返回的是当前的日期，有年月日时分秒</p>
<p>Current_date(): 返回的是当前的日期，只有年月日</p>
<h3 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h3><h4 id="redis为什么那么快"><a href="#redis为什么那么快" class="headerlink" title="redis为什么那么快"></a>redis为什么那么快</h4><p>redis虽然是单线程工作，但是性能瓶颈在io，抛去io性能瓶颈，单线程省去了线程上下文切换、线程锁抢占等问题，cpu利用率比多线程高，redis数据结构简单，数据存储在内存当中，查询效率高。在redis 6.x版本中，采用多个io线程，单个work线程的模型，从io瓶颈问题上提升redis的效率</p>
<h4 id="缓存淘汰"><a href="#缓存淘汰" class="headerlink" title="缓存淘汰"></a>缓存淘汰</h4><p>当redis内存超出物理内存限制时，内存的数据会和磁盘数据产生频繁的交换，会让redis性能急剧下降。对于访问频繁的redis来说，这样的存取效率基本上等于不可用，为了限制最大使用内存，redis提供了一些缓存淘汰方案:</p>
<ul>
<li><p>Noeviction：默认的淘汰策略，不会继续处理写请求。</p>
</li>
<li><p>Volatile-lru:  尝试淘汰设置了过期时间的key，使用最少的key优先被淘汰。没有设置过期时间的key不会被淘汰，这样可以保证需要持久化的数据不会被淘汰</p>
</li>
<li><p>Volatile-til：尝试淘汰设置了过期时间的key，key的剩余寿命越小优先被淘汰</p>
</li>
<li><p>Volatile-random: 随机淘汰设置了过期时间的key</p>
</li>
<li><p>Allkeys-lru: 使用最少的key会被优先淘汰</p>
</li>
<li><p>allkeys-random: 随机淘汰key</p>
</li>
</ul>
<p>##JVM相关</p>
<h3 id="内存模型"><a href="#内存模型" class="headerlink" title="内存模型"></a>内存模型</h3><ul>
<li>方法区：<ul>
<li>常量池：</li>
</ul>
</li>
<li>堆：</li>
<li>虚拟机栈：</li>
<li>本地方法栈：</li>
<li>计数器</li>
</ul>
<ol>
<li>String 是final类型，不可变，不可继承，被赋予新值的过程是创建同样的一个对象，将新对象赋值，旧对象GC回收</li>
</ol>
<h3 id="GC"><a href="#GC" class="headerlink" title="GC"></a>GC</h3><h4 id="GC-ROOT-栈引用，常量池，静态变量，JNI引用"><a href="#GC-ROOT-栈引用，常量池，静态变量，JNI引用" class="headerlink" title="GC ROOT:栈引用，常量池，静态变量，JNI引用"></a>GC ROOT:栈引用，常量池，静态变量，JNI引用</h4><h2 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h2><h3 id="IOC-和-DI"><a href="#IOC-和-DI" class="headerlink" title="IOC 和 DI"></a>IOC 和 DI</h3><p>IOC是控制反转：应用本身不负责对象的创建与维护，创建与维护的工作交给spring容器去进行管理</p>
<p>DI依赖注入：程序在运行期间，由外部容器，动态的将依赖对象注入到容器当中，可以提升组件重用的频率</p>
<h3 id="Spring-bean的生命周期"><a href="#Spring-bean的生命周期" class="headerlink" title="Spring bean的生命周期"></a>Spring bean的生命周期</h3><p>spring的生命周期有4个阶段，其中每个阶段会穿插扩展点</p>
<ul>
<li><p>实例化 createBeanInstance()</p>
<ul>
<li>InstantiationAwareBeanPostProcessor：作用于实例化的前后</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InstantiationAwareBeanPostProcessor extends BeanPostProcessor</span><br></pre></td></tr></table></figure>

<ul>
<li><p>属性赋值 populateBean()</p>
</li>
<li><p>初始化 Initialization</p>
<ul>
<li>BeanPostProcessor:作用于初始化的前后</li>
<li>在初始化之前调用Aware接口</li>
</ul>
</li>
<li><p>销毁 Destruction</p>
</li>
</ul>
<h3 id="Spring-循环依赖的问题"><a href="#Spring-循环依赖的问题" class="headerlink" title="Spring 循环依赖的问题"></a>Spring 循环依赖的问题</h3><p>一个对象的创建过程分为两步：</p>
<figure class="highlight plaintext"><figcaption><span>wiki</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 实例化对象</span><br><span class="line">2. 实例化对象属性</span><br></pre></td></tr></table></figure>

<ul>
<li>Spring 实例化bean的时候是分两步进行，先实例化目标bean，再去注入属性</li>
<li>Spring 通过递归的方式获取目标bean以及目标属性</li>
</ul>
<p>例如：A拥有B成员变量属性，B拥有A成员变量属性，在实例化A的时候，Spring会先从Spring容器中获取A的实例，如果没有，实例化A，将A放入Spring容器当中（此时A还没有实例化属性）。然后Spring会去实例化A的属性，当从Spring容器中获取B实例，没有时就会实例化B，并放入容器当中，再实例化B的属性，B的属性为A，会从容器中取出A设置到B的属性上。成功实例化B之后，再将B设置到A上。整个过程就完成了，解决了循环依赖问题。</p>
<h3 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h3><h4 id="AOP的原理"><a href="#AOP的原理" class="headerlink" title="AOP的原理"></a>AOP的原理</h4><p>aop使用动态代理实现，在spring bean初始化的的阶段通过BeanPostProcessor方法使用动态代理在内存中临时生成一个aop对象增强存储在spring容器当中，该aop对象拥有对象的所有方法。</p>
<p>aop的动态代理使用JDK动态代理和CGLib动态代理来实现的。</p>
<p>JDK动态代理通过反射实现代理，需要实现一个接口InvocationHandler</p>
<p>CGLib通过字节码来实现代理，CGLib是通过继承来实现代理，如果某个类被声明称final,将不会被代理。AOP代理如果没有实现接口，将默认会使用CGLib进行代理</p>
<h2 id="Spring-boot"><a href="#Spring-boot" class="headerlink" title="Spring boot"></a>Spring boot</h2><p><strong>优点</strong></p>
<ol>
<li>内嵌tomcat，可独立部署jar包</li>
<li>简化配置，可自动装配</li>
</ol>
<p><strong>缺点</strong></p>
<ol>
<li>集成度过高，难以理解源码</li>
</ol>
<h3 id="简化配置"><a href="#简化配置" class="headerlink" title="简化配置"></a>简化配置</h3><p>spring加载：spring 会在初始化的时候加载META-INF下的spring.factory文件获取资源，然后通过properties加载资源</p>
<p>Spring Boot在启动的时候从类路径下的META-INF/spring.factories中获取EnableAutoConfiguration指定的值，将这些值作为自动配置类导入到容器中，自动配置类就生效，帮我们进行自动配置工作。以前我们需要自己配置的东西，自动配置类都帮我们完成了。</p>
<h2 id="Spring-Cloud"><a href="#Spring-Cloud" class="headerlink" title="Spring Cloud"></a>Spring Cloud</h2><h3 id="Eureka"><a href="#Eureka" class="headerlink" title="Eureka"></a>Eureka</h3><ol>
<li><p>服务注册：服务提供者将自身注册到服务中心</p>
</li>
<li><p>服务续约：eureka将每30s请求一次心跳，来进行续约，若90s无续约将会删除服务信息</p>
</li>
<li><p>服务剔除：当个别节点90s内无心跳，将会将该服务注册列表删除</p>
</li>
<li><p>服务下线：程序在关闭时会向注册中心发送请求，eureka收到请求后会将注册信息删除</p>
</li>
<li><p>自我保护：当出现大批量心跳失败时，15分钟内心跳成功率在85%以内，将会进入自我保护机制</p>
<p>1）eureka不再从注册列表移除长时间没收到心跳的服务信息</p>
<p>2）eureka仍然会接受新服务的注册和查询的请求，但是不回被同步到其他节点上（保证当前节点依然可用）</p>
<p>3）当网络稳定时，当前实例新的注册信息会被同步到其他节点中</p>
</li>
<li><p>Eureka分区：eureka提供了Region和Zone两个概念进行分区，用一个区的请求会优先调用本区的请求</p>
<p>1）Region: 可以理解成地理区域</p>
<ol start="2">
<li>  Zone: 可以理解成机房区域</li>
</ol>
</li>
</ol>
<h4 id="多级缓存"><a href="#多级缓存" class="headerlink" title="多级缓存"></a>多级缓存</h4><p>拉取注册信息时，判断是否开启了多级缓存，如果开启了从只读缓存取数据，如果没开启，从读写缓存取。默认每30s从读写缓存同步信息到只读缓存，每60s清空超过90s未续约的节点，服务每30s从注册中心拉取一次注册信息。</p>
<ol>
<li>只读缓存(ConcurrentMap)：如果只读缓存为空再去查询读写缓存</li>
<li>读写缓存(Guava)：定时30s将信息同步到只读缓存,如果还是没有数据从registry取</li>
<li>Registry(ConcurrentMap)：异步同步多节点注册信息，当节点信息失效，将会清空二级缓存信息并同步更新二级缓存</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Get the payload in both compressed and uncompressed form.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@VisibleForTesting</span></span><br><span class="line">   <span class="function">Value <span class="title">getValue</span><span class="params">(<span class="keyword">final</span> Key key, <span class="keyword">boolean</span> useReadOnlyCache)</span> </span>&#123;</span><br><span class="line">       Value payload = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="keyword">if</span> (useReadOnlyCache) &#123;</span><br><span class="line">               <span class="keyword">final</span> Value currentPayload = readOnlyCacheMap.get(key);</span><br><span class="line">               <span class="keyword">if</span> (currentPayload != <span class="keyword">null</span>) &#123;</span><br><span class="line">                   payload = currentPayload;</span><br><span class="line">               &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                   payload = readWriteCacheMap.get(key);</span><br><span class="line">                   readOnlyCacheMap.put(key, payload);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               payload = readWriteCacheMap.get(key);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">           logger.error(<span class="string">&quot;Cannot get value for key : &#123;&#125;&quot;</span>, key, t);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> payload;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="注册列表的原理：双层map"><a href="#注册列表的原理：双层map" class="headerlink" title="注册列表的原理：双层map"></a>注册列表的原理：双层map</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//外层的key是服务名称，里层key是实例名称，Lease&lt;InstanceInfo&gt;服务信息</span></span><br><span class="line">ConcurrentHashMap&lt;String, Map&lt;String, Lease&lt;InstanceInfo&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>




<h2 id="分布式id"><a href="#分布式id" class="headerlink" title="分布式id"></a>分布式id</h2><h3 id="雪花算法"><a href="#雪花算法" class="headerlink" title="雪花算法"></a>雪花算法</h3><p>雪花算法:由首位无效符 + 时间戳（毫秒）+ 机器号 + 序列号</p>
<p>优点：</p>
<ol>
<li>高性能高可用：在内存中生成，不依赖数据库<ol start="2">
<li>容量大：每秒能生成几百万个id</li>
<li>id自增：由于引入时间戳，id自增，作为mysql索引能增加查询效率</li>
</ol>
</li>
</ol>
<p>缺点：依赖于时间一致性，如果时间回调，将会产生重复id</p>
<h2 id="类加载"><a href="#类加载" class="headerlink" title="类加载"></a>类加载</h2><h3 id="双亲委派加载"><a href="#双亲委派加载" class="headerlink" title="双亲委派加载"></a>双亲委派加载</h3><p>BootStrapClassLoad(启动类加载器): 加载核心类库</p>
<p>ExtensionClassLoad(标准扩展器加载器): 加载扩展类</p>
<p>ApplicationClassLoad(应用程序类加载器): 加载当前应用classPatch下所有目录</p>
<p>CustomClassLoader(用户自定义加载器): </p>
<p>好处：</p>
<ol>
<li>可避免重复加载，如果父类已经加载，子类不需要重新加载</li>
<li>更安全，很好的解决了加载器加载基础类的统一问题，核心类不由用户去自定义加载</li>
</ol>
<h2 id="CAP"><a href="#CAP" class="headerlink" title="CAP"></a>CAP</h2><p>一致性，可用性，容错性</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2020/10/23/Docker%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98-docker%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/10/23/Docker%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98-docker%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98/" class="post-title-link" itemprop="url">Docker 生产环境配置实战</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-10-23 08:10:10" itemprop="dateCreated datePublished" datetime="2020-10-23T08:10:10+08:00">2020-10-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-24 22:35:49" itemprop="dateModified" datetime="2020-10-24T22:35:49+08:00">2020-10-24</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>简介：本文将详细介绍基于Docker生产环境的相关配置及应用。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/23/Docker%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98-docker%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2020/08/13/%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%BA%94%E7%94%A8-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%BA%94%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/13/%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%BA%94%E7%94%A8-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%BA%94%E7%94%A8/" class="post-title-link" itemprop="url">二叉树、红黑树的数据结构及应用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-13 17:00:20" itemprop="dateCreated datePublished" datetime="2020-08-13T17:00:20+08:00">2020-08-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-23 16:02:36" itemprop="dateModified" datetime="2020-10-23T16:02:36+08:00">2020-10-23</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>简介：本文将详细介绍基于Docker的MySQL数据库的安装，配置及注意事项。以下内容均为实际应用中遇到的具体情况。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/13/%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%BA%94%E7%94%A8-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%BA%94%E7%94%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2019/10/06/JAVA%E9%9D%A2%E8%AF%95%E9%A2%98%E7%BB%84-java%E9%9D%A2%E8%AF%95%E9%A2%98%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/10/06/JAVA%E9%9D%A2%E8%AF%95%E9%A2%98%E7%BB%84-java%E9%9D%A2%E8%AF%95%E9%A2%98%E7%BB%84/" class="post-title-link" itemprop="url">JAVA面试题组</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-10-06 10:20:25" itemprop="dateCreated datePublished" datetime="2019-10-06T10:20:25+08:00">2019-10-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-02-01 19:16:09" itemprop="dateModified" datetime="2021-02-01T19:16:09+08:00">2021-02-01</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="JAVA-基础"><a href="#JAVA-基础" class="headerlink" title="JAVA 基础"></a>JAVA 基础</h1><h2 id="JAVA中的几种基本数据类型是什么-各自占用多少字节"><a href="#JAVA中的几种基本数据类型是什么-各自占用多少字节" class="headerlink" title="JAVA中的几种基本数据类型是什么,各自占用多少字节?"></a>JAVA中的几种基本数据类型是什么,各自占用多少字节?</h2><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">字节(byte)</th>
<th align="center">位数(bit)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">byte</td>
<td align="center">1</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">boolean</td>
<td align="center">1</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">char</td>
<td align="center">2</td>
<td align="center">16</td>
</tr>
<tr>
<td align="center">short</td>
<td align="center">2</td>
<td align="center">16</td>
</tr>
<tr>
<td align="center">int</td>
<td align="center">4</td>
<td align="center">32</td>
</tr>
<tr>
<td align="center">float</td>
<td align="center">4</td>
<td align="center">32</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center">8</td>
<td align="center">64</td>
</tr>
<tr>
<td align="center">double</td>
<td align="center">8</td>
<td align="center">64</td>
</tr>
</tbody></table>
<h2 id="String类能被继承吗-为什么"><a href="#String类能被继承吗-为什么" class="headerlink" title="String类能被继承吗,为什么?"></a>String类能被继承吗,为什么?</h2><blockquote>
<p>不可以,因为String类有final修饰符，而final修饰的类是不能被继承的，实现细节不允许改变。</p>
</blockquote>
<p>下面这段话摘自《Java编程思想》第四版第143页：</p>
<p>使用final方法的原因有两个。</p>
<p>第一个原因是把方法锁定，以防任何继承类修改它的含义；<br><br>第二个原因是效率。在早期的Java实现版本中，会将final方法转为内嵌调用。但是如果方法过于庞大，可能看不到内嵌调用带来的任何性能提升。在最近的Java版本中，不需要使用final方法进行这些优化了。</p>
<h2 id="String-Stringbuffer-StringBuilder的区别"><a href="#String-Stringbuffer-StringBuilder的区别" class="headerlink" title="String, Stringbuffer, StringBuilder的区别"></a>String, Stringbuffer, StringBuilder的区别</h2><ol start="4">
<li>String s=123”和 IString s new String(123)区别</li>
<li>ArrayList和 I LinkedList有什么区别。</li>
<li>讲讲类的实例化顺序,比如父类静态数据,构造函数,字段,子类静态数据,构造函数,字<br>段,当new的时候,他们的执行顺序。</li>
<li>用过哪些Map类,都有什么区别, HashMap是线程安全的吗并发下使用的Map是什么<br>他们内部原理分别是什么,比如存储方式, hashcode,扩容,默认容量等</li>
<li>有没有顺序的Map实现类,如果有,他们是怎么保证有序</li>
<li>抽象类和接口的区别,类可以继承多个类么,接口可以继承多个接口么类可以实现多个接<br>口么。</li>
<li>继承和聚合的区别在哪。</li>
<li>反射的原理,反射创建类实例的三种方式是什么</li>
<li>反射中, Class forName和 ClassLoader区别。</li>
</ol>
<h4 id="13-ClassLoader-原理、分类、加载顺序-双亲委派-加分项"><a href="#13-ClassLoader-原理、分类、加载顺序-双亲委派-加分项" class="headerlink" title="13.ClassLoader 原理、分类、加载顺序,双亲委派(加分项)"></a>13.<code>ClassLoader</code> 原理、分类、加载顺序,双亲委派(加分项)</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/javazejian/article/details/73413292">深入理解Java类加载器(ClassLoader)</a></p>
<h5 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h5><h5 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h5><p>引导（Bootstrap）类加载器、扩展（Extension）类加载器、系统（System）类加载器（也称应用类加载器）</p>
<h5 id="双亲委派模式"><a href="#双亲委派模式" class="headerlink" title="双亲委派模式"></a>双亲委派模式</h5><p>双亲委派模式是在Java 1.2后引入的，其工作原理的是，如果一个类加载器收到了类加载请求，它并不会自己先去加载，而是把这个请求委托给父类的加载器去执行，如果父类加载器还存在其父类加载器，则进一步向上委托，依次递归，请求最终将到达顶层的启动类加载器，如果父类加载器可以完成类加载任务，就成功返回，倘若父类加载器无法完成此加载任务，子加载器才会尝试自己去加载，这就是双亲委派模式。</p>
<ol start="14">
<li>描述动态代理的几种实现方式,分别说出相应的优缺点。</li>
<li>动态代理与 cglib实现的区别。</li>
<li>为什么 CGlib方式可以对接口实现代理。(加分项)</li>
<li>final的用途。</li>
<li>写出三种单例模式实现。</li>
<li>如何在父类中为子类自动完成所有的 hashcode和 equals实现?这么做有何优劣。</li>
<li>请结合设计理念,谈谈访问修饰符 public、 private、 protected、 default在应用设计<br>中的作用。</li>
<li>深拷贝和浅拷贝区别。</li>
</ol>
<ol start="22">
<li><code>volatile</code> 可见性，有序性，如何实现的。不保证原子性</li>
</ol>
<p>为了解决并发缓存值不一致，最开始采取的方案是 总线加锁(需要加锁，性能差,串行化，无法充分应用多核计算机的特性)。</p>
<p>现在采用的是 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MESI%E5%8D%8F%E8%AE%AE"><code>MESI</code></a> 缓存一致性 和 <code>CPU总线嗅探机制</code> 。</p>
<ul>
<li>已修改Modified (M)</li>
<li>独占Exclusive (E)</li>
<li>共享Shared (S)</li>
<li>无效Invalid (I)</li>
</ul>
<p>要加锁，力度小<br>一旦其他线程修改了值，总线嗅探机制会直接使自身工作内存的副本失效，让线程重新去读。</p>
<ol start="23">
<li>为什么volatile不能保证原子性而Atomic可以？</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/mainz/p/3556430.html">参考</a></li>
</ul>
<h4 id="额外"><a href="#额外" class="headerlink" title="额外"></a>额外</h4><ul>
<li><p><a target="_blank" rel="noopener" href="https://xilidou.com/2018/11/27/LongAdder/">从 LongAdder 中窥见并发组件的设计思路</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000023761290">阿里为什么推荐使用LongAdder，而不是volatile？</a></p>
</li>
</ul>
<p>MESI协议</p>
<ul>
<li>缓存行是脏的（dirty），与主存的值不同。如果别的CPU内核要读主存这块数据，该缓存行必须回写到主存，状态变为共享(S).<br>独占Exclusive (E)<br>缓存行只在当前缓存中，但是干净的（clean）–缓存数据同于主存数据。当别的缓存读取它时，状态变为共享；当前写数据时，变为已修改状态。<br>共享Shared (S)<br>缓存行也存在于其它缓存中且是干净的。缓存行可以在任意时刻抛弃。<br>无效Invalid (I)<br>缓存行是无效的</li>
</ul>
<h1 id="计算机基础、操作系统"><a href="#计算机基础、操作系统" class="headerlink" title="计算机基础、操作系统"></a>计算机基础、操作系统</h1><h3 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h3><h4 id="死锁的四个条件"><a href="#死锁的四个条件" class="headerlink" title="死锁的四个条件"></a>死锁的四个条件</h4><ul>
<li>禁止抢占（<code>no preemption</code>）：系统资源不能被强制从一个进程中退出。</li>
<li>持有和等待（<code>hold and wait</code>）：一个进程可以在等待时持有系统资源。</li>
<li>互斥（<code>mutual exclusion</code>）：资源只能同时分配给一个行程，无法多个行程共享。</li>
<li>循环等待（<code>circular waiting</code>）：一系列进程互相持有其他进程所需要的资源。</li>
</ul>
<h1 id="MYSQL"><a href="#MYSQL" class="headerlink" title="MYSQL"></a>MYSQL</h1><h3 id="MySql索引定义、如何设计、最左匹配的考查。"><a href="#MySql索引定义、如何设计、最左匹配的考查。" class="headerlink" title="MySql索引定义、如何设计、最左匹配的考查。"></a>MySql索引定义、如何设计、最左匹配的考查。</h3><h3 id="Mysql悲观锁和乐观锁。"><a href="#Mysql悲观锁和乐观锁。" class="headerlink" title="Mysql悲观锁和乐观锁。"></a>Mysql悲观锁和乐观锁。</h3><h3 id="MySql的事务隔离级别-如何实现可重复读的-MVCC-间隙锁。"><a href="#MySql的事务隔离级别-如何实现可重复读的-MVCC-间隙锁。" class="headerlink" title="MySql的事务隔离级别,如何实现可重复读的,MVCC,间隙锁。"></a>MySql的事务隔离级别,如何实现可重复读的,MVCC,间隙锁。</h3><table>
<thead>
<tr>
<th align="center">隔离级别</th>
<th align="center">脏读(Dirty Read)</th>
<th align="center">不可重复读(Non-Repeatable Read)</th>
<th align="center">幻读(Phantom Read)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">读未提交(READ-UNCOMMITTED)</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">读已提交(READ-COMMITTED)</td>
<td align="center">⨉</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">可重复度(REPEATABLE-READ)</td>
<td align="center">⨉</td>
<td align="center">⨉</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">可串行化(SERIALIZABLE)</td>
<td align="center">⨉</td>
<td align="center">⨉</td>
<td align="center">⨉</td>
</tr>
</tbody></table>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/48269420">间隙锁</a></li>
<li>间隙锁只有在事务隔离级别 RR 中才会产生，事务级别是RC（读已提交）级别的话，间隙锁将会失效</li>
<li>唯一索引只有锁住多条记录或者一条不存在的记录的时候，才会产生间隙锁，指定给某条存在的记录加锁的时候，只会加记录锁，不会产生间隙锁；</li>
<li>普通索引不管是锁住单条，还是多条记录，都会产生间隙锁；</li>
<li>间隙锁会封锁该条记录相邻两个键之间的空白区域，防止其它事务在这个区域内插入、修改、删除数据，这是为了防止出现 幻读 现象；</li>
<li>普通索引的间隙，优先以普通索引排序，然后再根据主键索引排序；</li>
</ul>
<p>参考:<a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/743691">彻底搞懂 MySQL 事务的隔离级别</a></p>
<h3 id="事务的ACID、BASE原理、CAP原则。"><a href="#事务的ACID、BASE原理、CAP原则。" class="headerlink" title="事务的ACID、BASE原理、CAP原则。"></a>事务的ACID、BASE原理、CAP原则。</h3><h4 id="ACID"><a href="#ACID" class="headerlink" title="ACID"></a>ACID</h4><ul>
<li>是指数据库管理系统（DBMS）在写入或更新资料的过程中，为保证事务（<code>transaction</code>）是正确可靠的，所必须具备的四个特性：原子性（<code>atomicity</code>，或称不可分割性）、一致性（<code>consistency</code>）、隔离性（<code>isolation</code>，又称独立性）、持久性（<code>durability</code>）。</li>
</ul>
<blockquote>
<p>Atomicity（原子性）：一个事务（transaction）中的所有操作，或者全部完成，或者全部不完成，不会结束在中间某个环节。事务在执行过程中发生错误，会被回滚（Rollback）到事务开始前的状态，就像这个事务从来没有执行过一样。即，事务不可分割、不可约简。[1]</p>
</blockquote>
<blockquote>
<p>Consistency（一致性）：在事务开始之前和事务结束以后，数据库的完整性没有被破坏。这表示写入的资料必须完全符合所有的预设约束、触发器、级联回滚等。[1]</p>
</blockquote>
<blockquote>
<p>Isolation（隔离性）：数据库允许多个并发事务同时对其数据进行读写和修改的能力，隔离性可以防止多个事务并发执行时由于交叉执行而导致数据的不一致。事务隔离分为不同级别，包括未提交读（Read uncommitted）、提交读（read committed）、可重复读（repeatable read）和串行化（Serializable）。[1]<br>Durability（持久性）：事务处理结束后，对数据的修改就是永久的，即便系统故障也不会丢失。</p>
</blockquote>
<hr>
<h4 id="CAP原则-定理"><a href="#CAP原则-定理" class="headerlink" title="CAP原则(定理)"></a>CAP原则(定理)</h4><ul>
<li>指的是在一个分布式系统中， Consistency（一致性）、 Availability（可用性）、Partition tolerance（分区容错性），三者不可得兼。</li>
</ul>
<hr>
<h4 id="BASE理论"><a href="#BASE理论" class="headerlink" title="BASE理论"></a>BASE理论</h4><ul>
<li>BASE是Basically Available（基本可用）、Soft state（软状态）和Eventually consistent（最终一致性）三个短语的简写，BASE是对CAP中一致性和可用性权衡的结果，其来源于对大规模互联网系统分布式实践的结论，是基于CAP定理逐步演化而来的，其核心思想是即使无法做到强一致性（Strong consistency），但每个应用都可以根据自身的业务特点，采用适当的方式来使系统达到最终一致性（Eventual consistency）</li>
</ul>
<p>参考:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/duanxz/p/5229352.html">CAP原则(CAP定理)、BASE理论</a></p>
<h3 id="分布式事务"><a href="#分布式事务" class="headerlink" title="分布式事务"></a>分布式事务</h3><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/78599954">分布式事务的4种模式</a></li>
</ul>
<p>分布式事务框架 <code>seata</code> <a target="_blank" rel="noopener" href="http://seata.io/zh-cn/docs/overview/what-is-seata.html">官方文档</a></p>
<h4 id="XA"><a href="#XA" class="headerlink" title="XA"></a>XA</h4><p>XA是X/Open DTP组织（X/Open DTP group）定义的两阶段提交协议，XA被许多数据库（如Oracle、DB2、SQL Server、MySQL）和中间件等工具(如CICS 和 Tuxedo)本地支持 。<br>X/Open DTP模型（1994）包括应用程序（AP）、事务管理器（TM）、资源管理器（RM）。</p>
<p>XA接口函数由数据库厂商提供。XA规范的基础是两阶段提交协议2PC。<br>JTA(Java Transaction API) 是Java实现的XA规范的增强版 接口。</p>
<p>在XA模式下，需要有一个[全局]协调器，每一个数据库事务完成后，进行第一阶段预提交，并通知协调器，把结果给协调器。协调器等所有分支事务操作完成、都预提交后，进行第二步；第二步：协调器通知每个数据库进行逐个commit/rollback。<br>其中，这个全局协调器就是XA模型中的TM角色，每个分支事务各自的数据库就是RM。</p>
<h4 id="SAGA"><a href="#SAGA" class="headerlink" title="SAGA"></a>SAGA</h4><p>Saga 理论出自 Hector &amp; Kenneth 1987发表的论文 Sagas。<br>saga模式的实现，是长事务解决方案。</p>
<p>Saga 是一种补偿协议，在 Saga 模式下，分布式事务内有多个参与者，每一个参与者都是一个冲正补偿服务，需要用户根据业务场景实现其正向操作和逆向回滚操作。</p>
<h4 id="AT"><a href="#AT" class="headerlink" title="AT"></a>AT</h4><p>AT 模式是一种无侵入的分布式事务解决方案。</p>
<p>阿里seata框架，实现了该模式。</p>
<p>在 AT 模式下，用户只需关注自己的“业务 SQL”，用户的 “业务 SQL” 作为一阶段，Seata 框架会自动生成事务的二阶段提交和回滚操作。</p>
<h4 id="TCC"><a href="#TCC" class="headerlink" title="TCC"></a>TCC</h4><p>TCC 模式需要用户根据自己的业务场景实现 Try、Confirm 和 Cancel 三个操作；事务发起方在一阶段执行 Try 方式，在二阶段提交执行 Confirm 方法，二阶段回滚执行 Cancel 方法。</p>
<ul>
<li>关于 TCC（Try-Confirm-Cancel）的概念，最早是由 Pat Helland 于 2007 年发表的一篇名为《Life beyond Distributed Transactions:an Apostate’s Opinion》的论文提出。 TCC 事务机制相比于上面介绍的 XA，解决了其几个缺点：</li>
</ul>
<p>解决了协调者单点，由主业务方发起并完成这个业务活动。业务活动管理器也变成多点，引入集群。<br>同步阻塞：引入超时，超时后进行补偿，并且不会锁定整个资源，将资源转换为业务逻辑形式，粒度变小。<br>数据一致性，有了补偿机制之后，由业务活动管理器控制一致性<br>TCC(Try Confirm Cancel)<br>Try 阶段：尝试执行，完成所有业务检查（一致性）, 预留必须业务资源（准隔离性）<br>Confirm 阶段：确认执行真正执行业务，不作任何业务检查，只使用 Try 阶段预留的业务资源，Confirm 操作满足幂等性。要求具备幂等设计，Confirm 失败后需要进行重试。<br>Cancel 阶段：取消执行，释放 Try 阶段预留的业务资源 Cancel 操作满足幂等性 Cancel 阶段的异常和 Confirm 阶段异常处理方案基本上一致。</p>
<p>在 Try 阶段，是对业务系统进行检查及资源预览，比如订单和存储操作，需要检查库存剩余数量是否够用，并进行预留，预留操作的话就是新建一个可用库存数量字段，Try 阶段操作是对这个可用库存数量进行操作。<br>基于 TCC 实现分布式事务，会将原来只需要一个接口就可以实现的逻辑拆分为 Try、Confirm、Cancel 三个接口，所以代码实现复杂度相对较高。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2018/12/09/Docker%20MySQL(mariadb)%20%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dockermysqlmariadb%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/12/09/Docker%20MySQL(mariadb)%20%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dockermysqlmariadb%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" class="post-title-link" itemprop="url">Docker MySQL(mariadb) 安装配置及注意事项</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-12-09 22:10:10" itemprop="dateCreated datePublished" datetime="2018-12-09T22:10:10+08:00">2018-12-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-23 16:02:39" itemprop="dateModified" datetime="2020-10-23T16:02:39+08:00">2020-10-23</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>简介：本文将详细介绍基于Docker的MySQL数据库的安装，配置及注意事项。以下内容均为实际应用中遇到的具体情况。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/12/09/Docker%20MySQL(mariadb)%20%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dockermysqlmariadb%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2018/10/06/ThreadLocal%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8-threadlocal%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/10/06/ThreadLocal%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8-threadlocal%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/" class="post-title-link" itemprop="url">ThreadLocal的原理与应用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-10-06 10:20:25" itemprop="dateCreated datePublished" datetime="2018-10-06T10:20:25+08:00">2018-10-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-23 16:02:36" itemprop="dateModified" datetime="2020-10-23T16:02:36+08:00">2020-10-23</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>MySql作为一般公司最常用的关系型数据库，需要按照一定的规范来进行设计和运用，才能优雅的进行后续的开发。本文通过对阿里云mysql设计规范进行理解，来详细阐述各个规范的相关场景。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/10/06/ThreadLocal%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8-threadlocal%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2018/10/06/%E7%90%86%E8%A7%A3%E9%98%BF%E9%87%8C%E4%BA%91mysql%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83-%E7%90%86%E8%A7%A3%E9%98%BF%E9%87%8C%E4%BA%91mysql%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/10/06/%E7%90%86%E8%A7%A3%E9%98%BF%E9%87%8C%E4%BA%91mysql%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83-%E7%90%86%E8%A7%A3%E9%98%BF%E9%87%8C%E4%BA%91mysql%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83/" class="post-title-link" itemprop="url">理解阿里云mysql设计规范</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-10-06 10:20:25" itemprop="dateCreated datePublished" datetime="2018-10-06T10:20:25+08:00">2018-10-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-23 16:02:41" itemprop="dateModified" datetime="2020-10-23T16:02:41+08:00">2020-10-23</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>MySql作为一般公司最常用的关系型数据库，需要按照一定的规范来进行设计和运用，才能优雅的进行后续的开发。本文通过对阿里云mysql设计规范进行理解，来详细阐述各个规范的相关场景。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/10/06/%E7%90%86%E8%A7%A3%E9%98%BF%E9%87%8C%E4%BA%91mysql%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83-%E7%90%86%E8%A7%A3%E9%98%BF%E9%87%8C%E4%BA%91mysql%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://aqhi.net/2018/09/17/Java%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-%E5%BC%BA%E5%BC%95%E7%94%A8%E3%80%81%E8%BD%AF%E5%BC%95%E7%94%A8%E3%80%81%E5%BC%B1%E5%BC%95%E7%94%A8%E3%80%81%E8%99%9A%E5%BC%95%E7%94%A8-java%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-%E5%BC%BA%E5%BC%95%E7%94%A8%E8%BD%AF%E5%BC%95%E7%94%A8%E5%BC%B1%E5%BC%95%E7%94%A8%E8%99%9A%E5%BC%95%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aqHi">
      <meta itemprop="description" content="Talk is cheap , show me the shit.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="aqHi'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/09/17/Java%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-%E5%BC%BA%E5%BC%95%E7%94%A8%E3%80%81%E8%BD%AF%E5%BC%95%E7%94%A8%E3%80%81%E5%BC%B1%E5%BC%95%E7%94%A8%E3%80%81%E8%99%9A%E5%BC%95%E7%94%A8-java%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-%E5%BC%BA%E5%BC%95%E7%94%A8%E8%BD%AF%E5%BC%95%E7%94%A8%E5%BC%B1%E5%BC%95%E7%94%A8%E8%99%9A%E5%BC%95%E7%94%A8/" class="post-title-link" itemprop="url">Java引用类型-强引用、软引用、弱引用、虚引用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-09-17 11:12:10" itemprop="dateCreated datePublished" datetime="2018-09-17T11:12:10+08:00">2018-09-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-23 16:02:41" itemprop="dateModified" datetime="2020-10-23T16:02:41+08:00">2020-10-23</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>Java中，我们不需要手动管理对象的生命周期，但是如果希望对象具备一定的生命周期的话，就必须合理运用Java中的不同引用类型。从Java SE2起，就为提供了四种引用类型：<em><strong>强引用、软引用、弱引用和虚引用。</strong></em>本文通过分析他们在JDK中的使用场景来阐述不同引用类型在实际中的作用。</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/09/17/Java%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-%E5%BC%BA%E5%BC%95%E7%94%A8%E3%80%81%E8%BD%AF%E5%BC%95%E7%94%A8%E3%80%81%E5%BC%B1%E5%BC%95%E7%94%A8%E3%80%81%E8%99%9A%E5%BC%95%E7%94%A8-java%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-%E5%BC%BA%E5%BC%95%E7%94%A8%E8%BD%AF%E5%BC%95%E7%94%A8%E5%BC%B1%E5%BC%95%E7%94%A8%E8%99%9A%E5%BC%95%E7%94%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">aqHi</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
